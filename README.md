# Форма аутентификации.

## Использование области видимости в рамках сессии.

Бины с областью видимости в рамках сессии позволяют реализовать, в част- ности, такие функции, как:
- _**Аутентификация**_. 
В бине сохраняются данные об аутентифицированном пользователе в течение всего времени,
пока он посещает различные страницы приложения и отправляет запросы;
- _**Корзина интернет-магазина**_.
Пользователь посещает разные страницы при- ложения в поисках товаров,
которые он хочет добавить в корзину Корзина запоминает все наименования, 
которые в нее поместил клиент

### ГЛАВНЫЕ ОСОБЕННОСТИ БИНОВ С ОБЛАСТЬЮ ВИДИМОСТИ В РАМКАХ ЗАПРОСА:

### Факты
- Экземпляры бинов с областью видимости в рамках сессии сохраняются в течение всей HTTP-сессии.
- Один экземпляр бина с областью видимости в рамках сессии может быть доступен нескольким запросам.
- Бины с областью видимости в рамках сессии - это способ сделать данные
  доступными для нескольких запросов, сохраняя эти данные на стороне сервера.
### Следствия
- Время жизни таких бинов дольше, чем у бинов с областью видимости в рамках запроса, и они не так часто попадают в сборку мусора.
- Если один и тот же клиент сделает несколько конкурентных запросов, изменяющих данные в таком экземпляре, возможны проблемы многопоточности, например состояние гонки.
- Реализуемая вами логика может потребовать запросов, зависящих друг от друга.
### Что учесть
- Данные, сохраненные в бинах с областью видимости в рамках сессии, приложение помнит дольше.
- Возможно, чтобы избежать конкурентности, стоит воспользоваться механизмами синхронизации.
  Но я обычно рекомендую подумать, можно ли не допускать появления такой проблемы и оставить синхронизацию на самый крайний случай.
- Когда данные о состоянии хранятся в памяти приложения, клиенты становятся зависимыми от этого конкретного
  объекта приложения. Принимая решение о реализации какого-либо функционала посредством бина с областью
  видимости в рамках сессии, рассмотрите другие варианты хранения данных, которые вы хотите сделать общедоступными,
  например, не в сессии, а в базе данных, чтобы HTTP-запросы остались независимыми друг от друга.
### Чего избегать
- Не стоит хранить в сессии слишком много данных — это может привести к проблемам 
  с производительностью. И тем сессии конфиденциальную информацию,
  более не следует помещать в атрибуты бинов с областью видимости в рамках такую как пароли,
  частные ключи и др.
